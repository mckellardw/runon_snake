
########################################################################################################
# basecall_snake
#   Snakemake workflow to run basecalling on fast5 files...
#   Written by David W. McKellar
########################################################################################################


########################################################################################################
# Config file
########################################################################################################
configfile:'config.yaml'

########################################################################################################
# Imports
########################################################################################################
import glob
import os
import pandas as pd
import numpy as np

########################################################################################################
# Directories and locations
########################################################################################################
TMPDIR    = config['TMPDIR']
OUTDIR    = config['OUTDIR']

########################################################################################################
# Variables and references
########################################################################################################


########################################################################################################
# Executables
########################################################################################################
EXEC = config['EXEC']

########################################################################################################
# Pipeline
########################################################################################################

rule all:
    input:
        # expand( # gzipped fastqs
        #     "{sample}.fastq.gz", 
        #     sample=glob_wildcards("{sample}.fast5").sample
        # )
        # expand(
        #     "path/to/fastqs/{dir}", dir=[os.path.basename(d) for d in FAST5_DIRS]
        # )
        
include: "rules/0_rule.smk"
include: "rules/1a_rule.smk"
include: "rules/1b_rule.smk"